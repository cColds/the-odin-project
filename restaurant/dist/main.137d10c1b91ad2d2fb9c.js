(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[179],{487:(e,n,t)=>{var a={"./home/home.js":[877,877],"./menu/menu.js":[805,805]};function s(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],s=n[0];return t.e(n[1]).then((()=>t(s)))}s.keys=()=>Object.keys(a),s.id=487,e.exports=s},351:(e,n,t)=>{"use strict";class a{constructor(){this.events={}}subscribe(e,n){const t=this;return t.events[e]||(t.events[e]=[]),t.events[e].push(n),t}publish(e,n){return!!this.events[e]&&(this.events[e].forEach((e=>e(n))),!0)}}class s{constructor(e){const n=this;n.events=new a,n.params=e,n.pages={},n.currentPage={}}async changePage(e){const n=this,a={...n.currentPage};if(!n.pages[e]){const a=await t(487)(`./${e}/${e}.js`).then((({default:e})=>e)).catch((n=>{throw new Error(`Cant't load this page: ${e}: ${n}`)}));n.pages[e]=a}n.currentPage={name:e,render:n.pages[e]},n.events.publish("changePage",{current:n.currentPage,prev:a})}}class r{constructor(e){const n=this;n.module=e,n.elements={},n.module.events.subscribe("render",(()=>n.render())).subscribe("changePage",(({current:e,prev:t})=>n.changePage(e,t)))}changePage(e,n){const{header:t,main:a,pagesBtn:s}=this.elements;if(e.render){const r=e.render();"home"!==e.name?t.classList.add("app__header-no-opacity"):t.classList.remove("app__header-no-opacity"),n.name&&s[n.name].classList.remove("nav__btn-active"),s[e.name].classList.add("nav__btn-active"),a.innerHTML="",a.append(r)}}render(){const e=this,{app:n}=e.elements,{node:t,appendMode:a="append"}=e.module.params;if(!(t instanceof HTMLElement))throw new Error("Can't rendering, bad node");n&&n instanceof HTMLElement?e.elements.app.innerHTML="":(e.elements.app=document.createElement("div"),e.elements.app.className="app",t[a](e.elements.app)),e.elements.app.innerHTML='\n      <header class="app__header">\n        <div class="wrapper">\n          <div class="header__logo">\n            <span class="logo__text">logotype</span>\n          </div>\n\n          <nav class="header__nav">\n            <ul class="nav__list">\n              <li class="list__item">\n                <button class="nav__btn" type="button" aria-label="Home">home</button>\n              </li>\n              <li class="list__item">\n                <button class="nav__btn" type="button" aria-label="Menu">menu</button>\n              </li>\n            </ul>\n          </nav>\n\n          <a class="author" href="https://github.com/vyachnd" target="_blank" rel="noopener">vyachnd</a>\n        </div>\n      </header>\n\n      <main class="app__main"></main>\n    ',e.elements.header=e.elements.app.querySelector(".app__header");const[s,r]=e.elements.header.querySelectorAll(".nav__btn");e.elements.pagesBtn={home:s,menu:r},e.elements.main=e.elements.app.querySelector(".app__main")}}class o{constructor(e,n){this.module=e,this.view=n}changePage(e){this.module.changePage(e)}render(){const e=this;e.module.events.publish("render");const{pagesBtn:n}=e.view.elements,t=Object.keys(n);for(let a=0;a<t.length;a+=1){const s=t[a];n[s].addEventListener("click",(()=>e.changePage(s)))}}}class c{constructor(e){const n=this;n.module=new s(e),n.view=new r(n.module),n.controller=new o(n.module,n.view)}}(()=>{const e=new c({node:document.body});e.controller.render(),e.controller.changePage("home")})()}},e=>{var n;n=351,e(e.s=n)}]);